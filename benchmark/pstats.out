Wed Jun  3 06:52:54 2020    profile.out

         5725733 function calls (5654360 primitive calls) in 19.215 seconds

   Ordered by: call count
   List reduced from 442 to 300 due to restriction <300>

   ncalls  tottime  percall  cumtime  percall filename:lineno(function)
   519898    1.801    0.000    1.801    0.000 {method 'register' of 'select.epoll' objects}
   493715    0.269    0.000    0.293    0.000 fifo.py:17(__len__)
   478481    0.750    0.000    0.979    0.000 http_server.py:83(writable)
   478481    0.389    0.000    0.483    0.000 http_server.py:122(readable)
   478481    0.094    0.000    0.094    0.000 asynchat.py:209(readable)
235202/186580    0.079    0.000    0.116    0.000 {built-in method builtins.len}
   194484    0.044    0.000    0.044    0.000 {method 'lower' of 'str' objects}
   140940    0.051    0.000    0.051    0.000 {built-in method builtins.isinstance}
   115155    0.055    0.000    0.055    0.000 {method 'decode' of 'bytes' objects}
   112596    0.059    0.000    0.110    0.000 os.py:746(decode)
    61416    0.034    0.000    0.034    0.000 {method 'encode' of 'str' objects}
    58881    0.016    0.000    0.016    0.000 {method 'append' of 'list' objects}
    58857    0.044    0.000    0.098    0.000 os.py:687(__iter__)
    58857    0.080    0.000    0.406    0.000 _collections_abc.py:742(__iter__)
    56298    0.078    0.000    0.227    0.000 os.py:664(__getitem__)
    56298    0.051    0.000    0.093    0.000 os.py:742(encode)
    54272    0.022    0.000    0.022    0.000 {built-in method time.time}
    53366    0.062    0.000    0.337    0.000 {built-in method builtins.getattr}
    48621    0.042    0.000    0.042    0.000 {built-in method _codecs.utf_8_decode}
    48621    0.033    0.000    0.075    0.000 utf_8.py:15(decode)
    43503    0.023    0.000    0.032    0.000 producers.py:573(__len__)
    38400    0.052    0.000    0.052    0.000 {built-in method builtins.hasattr}
    35839    0.036    0.000    0.036    0.000 {method 'split' of 'str' objects}
    34505    0.019    0.000    0.019    0.000 asynpsycopg2.py:62(readable)
    34505    0.014    0.000    0.014    0.000 asynpsycopg2.py:59(writable)
    33267    0.117    0.000    0.143    0.000 http_request.py:378(get_header)
    33267    0.025    0.000    0.039    0.000 threading.py:239(__enter__)
    33267    0.023    0.000    0.031    0.000 threading.py:242(__exit__)
    30708    0.013    0.000    0.013    0.000 {method '__enter__' of '_thread.RLock' objects}
    30708    0.007    0.000    0.007    0.000 {method '__exit__' of '_thread.RLock' objects}
    30708    0.055    0.000    0.055    0.000 attrdict.py:4(__init__)
    25590    0.213    0.000    0.213    0.000 {method 'strftime' of 'datetime.date' objects}
    25590    0.059    0.000    0.070    0.000 {method 'astimezone' of 'datetime.datetime' objects}
    25590    0.018    0.000    0.087    0.000 api.py:18(_to_utc)
    25590    0.052    0.000    0.361    0.000 api.py:59(default)
    25590    0.080    0.000    0.080    0.000 tz.py:55(__init__)
    25590    0.020    0.000    0.020    0.000 tz.py:61(__new__)
    25590    0.010    0.000    0.010    0.000 tz.py:81(utcoffset)
    25590    0.010    0.000    0.010    0.000 producers.py:579(first)
    23031    0.010    0.000    0.010    0.000 {method 'startswith' of 'str' objects}
    23031    0.017    0.000    0.314    0.000 task.py:46(__getattr__)
    18221    0.014    0.000    0.031    0.000 counter.py:8(inc)
    18221    0.017    0.000    0.017    0.000 counter.py:14(increment)
    17914    0.008    0.000    0.008    0.000 {method 'join' of 'str' objects}
    17656    0.007    0.000    0.007    0.000 {method 'strip' of 'str' objects}
    15512    0.008    0.000    0.008    0.000 {method 'get' of 'dict' objects}
    15367    0.046    0.000    0.046    0.000 socket_map.py:41(get)
    15367    0.061    0.000    6.689    0.000 asyncore.py:105(readwrite)
    15365    0.327    0.000    0.402    0.000 {method 'poll' of 'psycopg2.extensions.connection' objects}
    15365    0.018    0.000    0.420    0.000 asynpsycopg2.py:37(poll)
15354/5118    0.036    0.000    3.431    0.001 cbutil.py:2(tuple_cb)
    15072    0.017    0.000    0.023    0.000 baseconnect.py:77(set_event_time)
    12834    0.013    0.000    0.013    0.000 {method 'format' of 'str' objects}
12795/10236    0.040    0.000    0.049    0.000 http_response.py:106(delete)
    12795    0.191    0.000    0.272    0.000 request.py:62(data)
    12795    0.021    0.000    0.069    0.000 producers.py:294(override)
12795/7677    0.040    0.000    0.127    0.000 producers.py:307(more)
    10262    0.011    0.000    0.020    0.000 termcolor.py:23(_wrap)
    10236    0.004    0.000    0.004    0.000 {method 'group' of '_sre.SRE_Match' objects}
    10236    0.024    0.000    0.024    0.000 {method 'match' of '_sre.SRE_Pattern' objects}
    10236    0.003    0.000    0.003    0.000 {built-in method posix.fspath}
    10236    0.003    0.000    0.003    0.000 {method 'upper' of 'str' objects}
    10236    0.012    0.000    0.023    0.000 http_request.py:422(split_uri)
    10236    0.029    0.000    0.055    0.000 task.py:147(get_status)
    10236    0.004    0.000    0.004    0.000 request.py:39(status_code)
    10236    0.010    0.000    0.012    0.000 producers.py:39(more)
    10116    0.017    0.000    0.676    0.000 producers.py:409(more)
     9964    0.004    0.000    0.004    0.000 baseconnect.py:73(set_timeout)
9964/5128    0.023    0.000    0.034    0.000 baseconnect.py:80(_set_active)
     9858    0.018    0.000    6.242    0.001 asyncore.py:458(handle_read_event)
     9476    0.026    0.000    0.026    0.000 socket_map.py:26(__len__)
     7689    0.009    0.000    0.009    0.000 {method 'find' of 'str' objects}
     7678    0.012    0.000    0.024    0.000 <frozen importlib._bootstrap>:997(_handle_fromlist)
     7677    0.002    0.000    0.002    0.000 {method 'append' of 'collections.deque' objects}
     7677    0.002    0.000    0.002    0.000 {method 'popleft' of 'collections.deque' objects}
     7677    0.004    0.000    0.004    0.000 {method 'rpartition' of 'str' objects}
     7677    0.003    0.000    0.003    0.000 http_response.py:75(is_responsable)
     7677    0.014    0.000    0.019    0.000 http_response.py:95(<listcomp>)
     7677    0.014    0.000    0.036    0.000 http_response.py:93(has_key)
     7677    0.007    0.000    0.009    0.000 http_response.py:97(set)
     7677    0.013    0.000    0.061    0.000 http_response.py:120(update)
     7677    0.019    0.000    0.024    0.000 wsgi_apps.py:325(has_route)
     7677    0.007    0.000    0.009    0.000 producers.py:589(pop)
     7677    0.007    0.000    0.022    0.000 termcolor.py:70(white)
     7677    0.009    0.000    0.013    0.000 <frozen importlib._bootstrap>:416(parent)
     7557    0.003    0.000    0.003    0.000 fifo.py:36(__getitem__)
     5296    0.007    0.000    0.301    0.000 asynpsycopg2.py:83(handle_write_event)
     5233    0.022    0.000    4.376    0.001 asynpsycopg2.py:95(handle_read)
     5144    0.009    0.000    0.009    0.000 {method 'insert' of 'list' objects}
     5144    0.023    0.000    0.032    0.000 logger.py:69(cache)
     5131    0.025    0.000    0.025    0.000 {built-in method time.strftime}
     5128    0.013    0.000    0.019    0.000 asynpsycopg2.py:125(close_cursor)
     5128    0.020    0.000    0.253    0.000 baseconnect.py:92(set_active)
     5119    0.004    0.000    0.004    0.000 {method 'pop' of 'dict' objects}
     5118    0.002    0.000    0.002    0.000 {method 'end' of '_sre.SRE_Match' objects}
     5118    0.017    0.000    0.017    0.000 {method 'sub' of '_sre.SRE_Pattern' objects}
     5118    0.002    0.000    0.002    0.000 {method 'acquire' of '_thread.RLock' objects}
     5118    0.001    0.000    0.001    0.000 {method 'release' of '_thread.RLock' objects}
     5118    0.020    0.000    0.020    0.000 {built-in method posix.stat}
     5118    0.003    0.000    0.003    0.000 {method 'endswith' of 'str' objects}
     5118    0.018    0.000    0.098    0.000 filesys.py:184(normalize)
     5118    0.003    0.000    0.003    0.000 filesys.py:245(translate)
     5118    0.003    0.000    0.003    0.000 http_server.py:152(set_timeout)
     5118    0.002    0.000    0.002    0.000 http_server.py:159(attend_to)
     5118    0.004    0.000    0.025    0.000 http_request.py:181(user_agent)
     5118    0.004    0.000    0.021    0.000 http_request.py:245(get_user_agent)
     5118    0.014    0.000    0.024    0.000 vhost_handler.py:118(find)
     5118    0.021    0.000    1.145    0.000 http_server.py:74(initiate_send)
     5118    0.002    0.000    0.002    0.000 api.py:108(get_content_type)
     5118    0.003    0.000    0.003    0.000 task.py:45(get_result)
     5118    0.034    0.000    3.420    0.001 task.py:54(handle_result)
     5118    0.021    0.000    3.050    0.001 tasks.py:243(_collect)
     5118    0.004    0.000    0.015    0.000 http_response.py:81(__len__)
     5118    0.013    0.000    0.018    0.000 http_response.py:100(get)
     5118    0.007    0.000    0.009    0.000 http_response.py:312(die_with)
     5118    0.011    0.000    0.022    0.000 task.py:49(reraise)
     5118    0.002    0.000    0.002    0.000 task.py:63(cache)
     5118    0.031    0.000    0.349    0.000 task.py:71(fetch)
     5118    0.012    0.000    0.021    0.000 task.py:155(set_status)
     5118    0.002    0.000    0.002    0.000 task.py:170(do_filter)
     5118    0.067    0.000    3.298    0.001 task.py:453(_collect)
     5118    0.014    0.000    3.136    0.001 task.py:503(_do_callback)
     5118    0.007    0.000    0.010    0.000 task.py:558(<listcomp>)
     5118    0.033    0.000    0.059    0.000 task.py:554(dispatch)
     5118    0.003    0.000    0.003    0.000 task.py:604(cache)
     5118    0.007    0.000    0.007    0.000 rcache.py:6(__init__)
     5118    0.007    0.000    0.019    0.000 wsgi_apps.py:314(get_app)
     5118    0.031    0.000    0.042    0.000 cluster_manager.py:277(report)
     5118    0.010    0.000    0.016    0.000 task.py:41(__init__)
     5118    0.010    0.000    3.449    0.001 request.py:50(handle_result)
     5118    0.021    0.000    0.021    0.000 request.py:73(<listcomp>)
     5118    0.008    0.000    3.439    0.001 request.py:47(handle_callback)
     5118    0.006    0.000    0.006    0.000 {method 'close' of 'psycopg2.extensions.cursor' objects}
     5118    0.214    0.000    0.214    0.000 {method 'execute' of 'psycopg2.extensions.cursor' objects}
     5118    0.147    0.000    0.248    0.000 {method 'fetchall' of 'psycopg2.extensions.cursor' objects}
     5118    0.021    0.000    0.278    0.000 asynpsycopg2.py:104(handle_write)
     5118    0.032    0.000    4.007    0.001 asynpsycopg2.py:133(close_case)
     5118    0.006    0.000    0.254    0.000 asynpsycopg2.py:148(fetchall)
     5118    0.003    0.000    0.003    0.000 asynpsycopg2.py:172(end_tran)
     5118    0.009    0.000    4.018    0.001 dbconnect.py:133(close_case_with_end_tran)
     5118    0.008    0.000    0.008    0.000 producers.py:558(__init__)
     5118    0.003    0.000    0.003    0.000 fifo.py:14(working)
     5118    0.014    0.000    0.021    0.000 fifo.py:54(insert)
     5118    0.007    0.000    0.039    0.000 producers.py:278(__init__)
     5118    0.008    0.000    0.009    0.000 producers.py:28(__init__)
     5118    0.069    0.000    1.115    0.000 asynchat.py:225(initiate_send)
     5118    0.008    0.000    0.035    0.000 re.py:184(sub)
     5118    0.009    0.000    0.010    0.000 re.py:286(_compile)
     5118    0.004    0.000    0.006    0.000 posixpath.py:41(_get_sep)
     5118    0.025    0.000    0.038    0.000 posixpath.py:75(join)
     5118    0.030    0.000    0.043    0.000 posixpath.py:338(normpath)
     4998    0.005    0.000    0.005    0.000 fifo.py:42(__delitem__)
     4998    0.022    0.000    0.701    0.000 producers.py:339(more)
     4846    0.042    0.000    0.042    0.000 {method 'cursor' of 'psycopg2.extensions.connection' objects}
     4846    0.008    0.000    0.050    0.000 asynpsycopg2.py:118(create_cursor)
     4840    0.006    0.000    0.006    0.000 {method 'pop' of 'list' objects}
     4836    0.013    0.000    0.020    0.000 asynpsycopg2.py:175(_compile)
     4836    0.024    0.000    0.173    0.000 asynpsycopg2.py:187(execute)
     4836    0.021    0.000    0.199    0.000 dbconnect.py:14(execute_late)
     4836    0.013    0.000    0.014    0.000 dbconnect.py:53(close_if_over_keep_live)
     4836    0.016    0.000    0.035    0.000 dbconnect.py:146(begin_tran)
     4836    0.005    0.000    0.008    0.000 baseconnect.py:14(__getattr__)
     4836    0.003    0.000    0.003    0.000 baseconnect.py:26(_canceled)
     4471    0.008    0.000    0.327    0.000 asyncore.py:417(recv)
     4317    0.003    0.000    0.003    0.000 {method 'acquire' of '_thread.lock' objects}
     4316    0.018    0.000    0.018    0.000 {method 'release' of '_thread.lock' objects}
     3460    0.056    0.000    0.056    0.000 socket_map.py:55(items)
     3456    5.810    0.002    5.810    0.002 {method 'poll' of 'select.epoll' objects}
     3456    0.001    0.000    0.001    0.000 http_server.py:545(writable)
     3456    0.002    0.000    0.002    0.000 http_server.py:582(readable)
     3456    0.001    0.000    0.001    0.000 select_trigger.py:60(readable)
     3456    0.001    0.000    0.001    0.000 select_trigger.py:63(writable)
     3456    1.559    0.000   17.470    0.005 asyncore.py:165(_poll_map)
     3456    1.678    0.000   19.153    0.006 asyncore.py:203(epoll)
     3456    0.011    0.000    0.011    0.000 lifetime.py:60(tick)
     3456    0.006    0.000   19.159    0.006 lifetime.py:238(poll_fun_wrap)
     2713    0.279    0.000    0.279    0.000 {method 'recv' of '_socket.socket' objects}
     2713    0.019    0.000    0.334    0.000 http_server.py:179(recv)
     2713    0.004    0.000    0.007    0.000 asynchat.py:95(set_terminator)
     2713    0.007    0.000    1.705    0.001 asynchat.py:114(handle_read)
     2713    0.025    0.000    1.364    0.001 asynchat.py:124(find_terminator)
     2572    0.132    0.000    0.132    0.000 {method 'write' of '_io.TextIOWrapper' objects}
     2572    0.002    0.000    0.002    0.000 {method 'flush' of '_io.TextIOWrapper' objects}
     2572    0.019    0.000    0.019    0.000 {built-in method time.localtime}
     2572    0.004    0.000    0.027    0.000 synchronize.py:94(__enter__)
     2572    0.004    0.000    0.005    0.000 synchronize.py:97(__exit__)
     2572    0.020    0.000    0.210    0.000 logger.py:85(_writeln)
     2572    0.028    0.000    0.301    0.000 logger.py:121(log)
     2572    0.009    0.000    0.371    0.000 logger.py:294(log)
     2572    0.006    0.000    0.039    0.000 logger.py:27(now)
     2572    0.003    0.000    0.005    0.000 logger.py:63(flush)
     2572    0.003    0.000    0.003    0.000 logger.py:74(tag)
     2572    0.023    0.000    0.023    0.000 {method '__enter__' of '_multiprocessing.SemLock' objects}
     2572    0.002    0.000    0.002    0.000 {method '__exit__' of '_multiprocessing.SemLock' objects}
     2572    0.003    0.000    0.008    0.000 termcolor.py:75(blue)
     2559    0.012    0.000    0.012    0.000 {built-in method time.gmtime}
     2559    0.001    0.000    0.001    0.000 {method 'groups' of '_sre.SRE_Match' objects}
     2559    0.001    0.000    0.001    0.000 {method '__enter__' of '_thread.lock' objects}
     2559    0.001    0.000    0.001    0.000 {method '__exit__' of '_thread.lock' objects}
     2559    0.001    0.000    0.001    0.000 {method 'appendleft' of 'collections.deque' objects}
     2559    0.223    0.000    0.223    0.000 {method 'send' of '_socket.socket' objects}
     2559    0.006    0.000    0.006    0.000 {method 'copy' of 'dict' objects}
     2559    0.001    0.000    0.001    0.000 {method 'extend' of 'list' objects}
     2559    0.004    0.000    0.004    0.000 {method 'find' of 'bytes' objects}
     2559    0.001    0.000    0.001    0.000 {method 'isalpha' of 'str' objects}
     2559    0.013    0.000    0.777    0.000 default_handler.py:84(handle_alternative)
     2559    0.022    0.000    1.023    0.000 default_handler.py:141(handle_request)
     2559    0.003    0.000    0.008    0.000 websocket_handler.py:21(match)
     2559    0.012    0.000    0.083    0.000 filesys.py:101(isfile)
     2559    0.017    0.000    0.116    0.000 filesys.py:108(isdir)
     2559    0.003    0.000    0.007    0.000 proxypass_handler.py:26(match)
     2559    0.003    0.000    0.003    0.000 proxypass_handler.py:29(find_cluster)
     2559    0.001    0.000    0.001    0.000 http2_handler.py:614(match)
     2559    0.008    0.000    1.042    0.000 http2_handler.py:617(handle_request)
     2559    0.005    0.000    0.006    0.000 http_server.py:167(done_request)
     2559    0.021    0.000    0.261    0.000 http_server.py:171(send)
     2559    0.002    0.000    0.002    0.000 http_server.py:195(collect_incoming_data)
     2559    0.041    0.000    1.327    0.001 http_server.py:216(found_terminator)
     2559    0.006    0.000    0.375    0.000 http_server.py:563(log_request)
     2559    0.026    0.000    0.129    0.000 http_request.py:34(__init__)
     2559    0.002    0.000    0.003    0.000 http_request.py:138(method)
     2559    0.003    0.000    0.009    0.000 http_request.py:189(host)
     2559    0.002    0.000    0.007    0.000 http_request.py:242(get_host)
     2559    0.004    0.000    0.014    0.000 http_request.py:251(get_real_ip)
     2559    0.016    0.000    0.036    0.000 http_request.py:344(set_log_info)
     2559    0.005    0.000    0.060    0.000 http_request.py:415(make_response)
     2559    0.001    0.000    0.001    0.000 http_request.py:418(is_promise)
     2559    0.004    0.000    0.012    0.000 http_request.py:453(response_finished)
     2559    0.002    0.000    0.003    0.000 threadlib.py:72(__len__)
     2559    0.010    0.000    0.086    0.000 threadlib.py:138(put)
     2559    0.005    0.000    0.034    0.000 vhost_handler.py:67(match)
     2559    0.011    0.000    1.067    0.000 vhost_handler.py:70(handle_request)
     2559    0.001    0.000    0.001    0.000 wsgi_handler.py:55(match)
     2559    0.101    0.000    0.544    0.000 wsgi_handler.py:61(build_environ)
     2559    0.029    0.000    0.748    0.000 wsgi_handler.py:140(handle_request)
     2559    0.025    0.000    0.676    0.000 wsgi_handler.py:200(continue_request)
     2559    0.004    0.000    0.004    0.000 wsgi_handler.py:235(__init__)
     2559    0.003    0.000    0.015    0.000 auth.py:135(is_allowed_origin)
     2559    0.001    0.000    0.001    0.000 auth.py:145(is_authorized)
     2559    0.006    0.000    0.082    0.000 http_server.py:87(handle_write)
     2559    0.014    0.000    1.097    0.000 http_server.py:118(push_with_producer)
     2559    0.005    0.000    0.005    0.000 counter.py:39(__str__)
     2559    0.002    0.000    0.006    0.000 api.py:94(set_content_type)
     2559    0.004    0.000    0.005    0.000 api.py:99(set_json_encoder)
     2559    0.012    0.000    0.821    0.000 api.py:129(to_string)
     2559    0.010    0.000    0.034    0.000 api.py:161(__init__)
     2559    0.016    0.000    0.019    0.000 tasks.py:12(__init__)
     2559    0.036    0.000    0.412    0.000 tasks.py:31(dict)
     2559    0.004    0.000    0.023    0.000 tasks.py:64(__init__)
     2559    0.004    0.000    0.027    0.000 tasks.py:181(__init__)
     2559    0.002    0.000    0.002    0.000 tasks.py:185(__del__)
     2559    0.021    0.000    0.055    0.000 http_response.py:52(__init__)
     2559    0.001    0.000    0.001    0.000 http_response.py:69(is_async_streaming)
     2559    0.003    0.000    0.013    0.000 http_response.py:87(__getitem__)
     2559    0.007    0.000    0.018    0.000 http_response.py:152(set_reply)
     2559    0.006    0.000    0.006    0.000 http_response.py:163(<listcomp>)
     2559    0.012    0.000    0.027    0.000 http_response.py:160(build_reply_header)
     2559    0.006    0.000    0.006    0.000 http_response.py:170(response)
     2559    0.007    0.000    0.011    0.000 http_response.py:173(parse_ststus)
     2559    0.011    0.000    0.022    0.000 http_response.py:325(push)
     2559    0.087    0.000    1.410    0.001 http_response.py:339(done)
     2559    0.060    0.000    0.531    0.000 http_response.py:508(log)
     2559    0.014    0.000    0.084    0.000 http_response.py:574(API)
     2559    0.002    0.000    0.002    0.000 selective_logger.py:28(loggable)
     2559    0.007    0.000    0.017    0.000 selective_logger.py:58(__call__)
     2559    0.020    0.000    0.348    0.000 triple_logger.py:12(log)
     2559    0.003    0.000    0.081    0.000 task.py:84(one)
     2559    0.005    0.000    0.275    0.000 task.py:589(fetch)
     2559    0.005    0.000    0.086    0.000 task.py:593(one)
     2559    0.028    0.000    3.001    0.001 __init__.py:26(_late_respond)
     2559    0.011    0.000    0.011    0.000 __init__.py:57(deallocate)
     2559    0.070    0.000    1.006    0.000 utility.py:6(make_pushables)
     2559    0.005    0.000    0.007    0.000 wsgi_apps.py:93(get_callable)
     2559    0.002    0.000    0.002    0.000 wsgi_apps.py:259(get_path_info)
     2559    0.014    0.000    0.105    0.000 was.py:311(API)
     2559    0.007    0.000    0.525    0.000 was.py:323(_mapped_callback)
     2559    0.003    0.000    0.004    0.000 producers.py:582(push)
     2559    0.003    0.000    0.007    0.000 fifo.py:48(append)
     2559    0.003    0.000    0.019    0.000 fifo.py:51(appendleft)
     2559    0.004    0.000    0.006    0.000 producers.py:326(__init__)
     2559    0.005    0.000    0.014    0.000 producers.py:384(globbing_producer)
     2559    0.004    0.000    0.009    0.000 producers.py:395(__init__)
     2559    0.002    0.000    0.004    0.000 producers.py:404(override)
     2559    0.005    0.000    0.028    0.000 http_date.py:107(build_http_date)
     2559    0.011    0.000    0.026    0.000 http_util.py:58(crack_request)
     2559    0.011    0.000    0.013    0.000 http_util.py:70(join_headers)
     2559    0.005    0.000    0.012    0.000 http_util.py:79(get_header)
     2559    0.018    0.000    0.807    0.000 __init__.py:183(dumps)
     2559    0.004    0.000    0.004    0.000 encoder.py:104(__init__)
     2559    0.013    0.000    0.785    0.000 encoder.py:182(encode)
     2559    0.409    0.000    0.770    0.000 encoder.py:204(iterencode)
     2559    0.001    0.000    0.001    0.000 asynchat.py:106(get_terminator)
     2559    0.006    0.000    1.083    0.000 asynchat.py:205(push_with_producer)
     2559    0.005    0.000    0.228    0.000 asyncore.py:404(send)
     2559    0.004    0.000    0.086    0.000 asyncore.py:478(handle_write_event)
     2559    0.008    0.000    0.010    0.000 queue.py:85(qsize)
     2559    0.016    0.000    0.065    0.000 queue.py:115(put)
     2559    0.002    0.000    0.002    0.000 queue.py:202(_qsize)
     2559    0.003    0.000    0.004    0.000 queue.py:206(_put)
     2559    0.001    0.000    0.001    0.000 termcolor.py:27(default)


   Ordered by: call count

Function                                                       was called by...
                                                                   ncalls  tottime  cumtime
{method 'register' of 'select.epoll' objects}                  <-  519898    1.801    1.801  asyncore.py:165(_poll_map)
fifo.py:17(__len__)                                            <-   12675    0.041    0.055  asynchat.py:225(initiate_send)
                                                                     2559    0.007    0.010  asyncore.py:165(_poll_map)
                                                                   478481    0.222    0.229  http_server.py:83(writable)
http_server.py:83(writable)                                    <-  478481    0.750    0.979  asyncore.py:165(_poll_map)
http_server.py:122(readable)                                   <-  478481    0.389    0.483  asyncore.py:165(_poll_map)
asynchat.py:209(readable)                                      <-  478481    0.094    0.094  http_server.py:122(readable)
{built-in method builtins.len}                                 <-    2559    0.003    0.005  _collections_abc.py:701(__len__)
                                                                     5118    0.001    0.001  asynchat.py:124(find_terminator)
                                                                     5118    0.001    0.001  asynchat.py:225(initiate_send)
                                                                    12675    0.003    0.003  fifo.py:17(__len__)
                                                                     5118    0.001    0.001  filesys.py:184(normalize)
                                                                    23031    0.005    0.005  http_request.py:378(get_header)
                                                                     2559    0.000    0.000  http_request.py:422(split_uri)
                                                                     5118    0.005    0.011  http_response.py:81(__len__)
                                                                     5118    0.005    0.009  http_response.py:339(done)
                                                                     2559    0.003    0.014  http_response.py:508(log)
                                                                     2559    0.001    0.001  http_server.py:179(recv)
                                                                     2559    0.001    0.001  http_util.py:58(crack_request)
                                                                     2559    0.001    0.001  http_util.py:70(join_headers)
                                                                     2559    0.001    0.001  os.py:693(__len__)
                                                                     5118    0.001    0.001  producers.py:28(__init__)
                                                                    10236    0.002    0.002  producers.py:39(more)
                                                                    12795    0.008    0.016  producers.py:294(override)
                                                                    20472    0.012    0.026  producers.py:307(more)
                                                                    10116    0.002    0.002  producers.py:339(more)
                                                                     5118    0.001    0.001  producers.py:409(more)
                                                                    43503    0.009    0.009  producers.py:573(__len__)
                                                                     2559    0.001    0.001  queue.py:202(_qsize)
                                                                        1    0.000    0.000  re.py:286(_compile)
                                                                    10236    0.002    0.002  request.py:62(data)
                                                                        2    0.000    0.000  sre_compile.py:64(_compile)
                                                                        2    0.000    0.000  sre_compile.py:482(_compile_info)
                                                                        2    0.000    0.000  sre_parse.py:81(groups)
                                                                        3    0.000    0.000  sre_parse.py:159(__len__)
                                                                        2    0.000    0.000  sre_parse.py:285(tell)
                                                                        1    0.000    0.000  sre_parse.py:407(_parse_sub)
                                                                        1    0.000    0.000  sre_parse.py:470(_parse)
                                                                     5118    0.001    0.001  task.py:71(fetch)
                                                                     2559    0.001    0.001  tasks.py:12(__init__)
                                                                    10236    0.002    0.002  tasks.py:31(dict)
                                                                     5118    0.002    0.002  tasks.py:243(_collect)
                                                                     2559    0.001    0.001  threadlib.py:72(__len__)
                                                                     5118    0.004    0.012  utility.py:6(make_pushables)
                                                                     5118    0.001    0.001  wsgi_apps.py:325(has_route)
{method 'lower' of 'str' objects}                              <-   76770    0.018    0.018  http_request.py:378(get_header)
                                                                     7677    0.002    0.002  http_response.py:93(has_key)
                                                                    30708    0.006    0.006  http_response.py:95(<listcomp>)
                                                                    20472    0.004    0.004  http_response.py:100(get)
                                                                    48621    0.010    0.010  http_response.py:106(delete)
                                                                     2559    0.001    0.001  http_response.py:339(done)
                                                                     2559    0.001    0.001  http_util.py:58(crack_request)
                                                                     5118    0.001    0.001  wsgi_handler.py:61(build_environ)
{built-in method builtins.isinstance}                          <-    5118    0.001    0.001  <frozen importlib._bootstrap>:997(_handle_fromlist)
                                                                        1    0.000    0.000  __init__.py:43(normalize_encoding)
                                                                        1    0.000    0.000  __init__.py:71(search_function)
                                                                    25590    0.008    0.008  api.py:59(default)
                                                                     2559    0.001    0.001  api.py:99(set_json_encoder)
                                                                     5426    0.003    0.003  asynchat.py:95(set_terminator)
                                                                     5272    0.003    0.003  asynchat.py:124(find_terminator)
                                                                     2559    0.002    0.002  asynchat.py:225(initiate_send)
                                                                     4836    0.005    0.005  asynpsycopg2.py:175(_compile)
                                                                     5118    0.002    0.002  encoder.py:182(encode)
                                                                        2    0.000    0.000  enum.py:803(__and__)
                                                                     2559    0.001    0.001  http_response.py:574(API)
                                                                    56298    0.015    0.015  os.py:742(encode)
                                                                     5118    0.002    0.002  posixpath.py:41(_get_sep)
                                                                     5118    0.002    0.002  posixpath.py:338(normpath)
                                                                        1    0.000    0.000  re.py:286(_compile)
                                                                        2    0.000    0.000  sre_compile.py:539(isstring)
                                                                        6    0.000    0.000  sre_parse.py:163(__getitem__)
                                                                        1    0.000    0.000  sre_parse.py:223(__init__)
                                                                        1    0.000    0.000  sre_parse.py:828(fix_flags)
                                                                     2559    0.002    0.002  task.py:71(fetch)
                                                                     2559    0.001    0.001  tasks.py:12(__init__)
                                                                     7677    0.003    0.003  utility.py:6(make_pushables)
                                                                     2559    0.001    0.001  wsgi_handler.py:140(handle_request)
{method 'decode' of 'bytes' objects}                           <-    2559    0.004    0.004  http_server.py:216(found_terminator)
                                                                   112596    0.052    0.052  os.py:746(decode)
os.py:746(decode)                                              <-   56298    0.030    0.057  os.py:664(__getitem__)
                                                                    56298    0.029    0.054  os.py:687(__iter__)
{method 'encode' of 'str' objects}                             <-    2559    0.002    0.002  http_response.py:339(done)
                                                                    56298    0.028    0.028  os.py:742(encode)
                                                                     2559    0.004    0.004  utility.py:6(make_pushables)
{method 'append' of 'list' objects}                            <-       5    0.000    0.000  __init__.py:43(normalize_encoding)
                                                                     7677    0.002    0.002  http_response.py:97(set)
                                                                     5118    0.001    0.001  http_util.py:70(join_headers)
                                                                        4    0.000    0.000  lifetime.py:91(__call__)
                                                                     5118    0.001    0.001  posixpath.py:338(normpath)
                                                                    28149    0.007    0.007  request.py:62(data)
                                                                        7    0.000    0.000  sre_compile.py:64(_compile)
                                                                        5    0.000    0.000  sre_compile.py:482(_compile_info)
                                                                        1    0.000    0.000  sre_compile.py:542(_code)
                                                                        1    0.000    0.000  sre_parse.py:171(append)
                                                                        1    0.000    0.000  sre_parse.py:407(_parse_sub)
                                                                     5118    0.002    0.002  task.py:453(_collect)
                                                                     2559    0.001    0.001  utility.py:6(make_pushables)
                                                                     5118    0.001    0.001  wsgi_apps.py:325(has_route)
os.py:687(__iter__)                                            <-   58857    0.044    0.098  _collections_abc.py:742(__iter__)
_collections_abc.py:742(__iter__)                              <-   58857    0.080    0.406  wsgi_handler.py:61(build_environ)
os.py:664(__getitem__)                                         <-   56298    0.078    0.227  _collections_abc.py:742(__iter__)
os.py:742(encode)                                              <-   56298    0.051    0.093  os.py:664(__getitem__)
{built-in method time.time}                                    <-   15072    0.006    0.006  baseconnect.py:77(set_event_time)
                                                                     4836    0.002    0.002  baseconnect.py:80(_set_active)
                                                                     4836    0.001    0.001  dbconnect.py:53(close_if_over_keep_live)
                                                                     2559    0.001    0.001  http_request.py:34(__init__)
                                                                     5118    0.002    0.002  http_response.py:52(__init__)
                                                                     5118    0.002    0.002  http_response.py:339(done)
                                                                     2559    0.001    0.001  http_response.py:508(log)
                                                                      308    0.000    0.000  http_server.py:46(__init__)
                                                                     2559    0.001    0.001  http_server.py:171(send)
                                                                     2713    0.001    0.001  http_server.py:179(recv)
                                                                     3456    0.002    0.002  lifetime.py:144(lifetime_loop)
                                                                        7    0.000    0.000  lifetime.py:158(graceful_shutdown_loop)
                                                                     2572    0.001    0.001  logger.py:27(now)
                                                                     2559    0.001    0.001  tasks.py:12(__init__)
{built-in method builtins.getattr}                             <-    4836    0.003    0.003  baseconnect.py:14(__getattr__)
                                                                    12675    0.021    0.021  fifo.py:17(__len__)
                                                                     2559    0.006    0.006  fifo.py:54(insert)
                                                                       15    0.000    0.000  lifetime.py:158(graceful_shutdown_loop)
                                                                     2572    0.006    0.006  logger.py:121(log)
                                                                    23031    0.021    0.297  task.py:46(__getattr__)
                                                                     5118    0.003    0.003  tasks.py:31(dict)
                                                                     2559    0.002    0.002  wsgi_apps.py:93(get_callable)
                                                                        1    0.000    0.000  wsgi_apps.py:169(cleanup)
{built-in method _codecs.utf_8_decode}                         <-   48621    0.042    0.042  utf_8.py:15(decode)
utf_8.py:15(decode)                                            <-   48621    0.033    0.075  {method 'poll' of 'psycopg2.extensions.connection' objects}
producers.py:573(__len__)                                      <-   43503    0.023    0.032  {built-in method builtins.len}
{built-in method builtins.hasattr}                             <-   12796    0.010    0.010  <frozen importlib._bootstrap>:997(_handle_fromlist)
                                                                     2559    0.006    0.006  http_response.py:339(done)
                                                                        1    0.000    0.000  http_server.py:539(close)
                                                                    15354    0.029    0.029  producers.py:294(override)
                                                                     2559    0.002    0.002  producers.py:326(__init__)
                                                                     2559    0.002    0.002  producers.py:384(globbing_producer)
                                                                     2559    0.002    0.002  producers.py:404(override)
                                                                       12    0.000    0.000  trigger.py:38(wakeselect)
                                                                        1    0.000    0.000  vhost_handler.py:62(close)
{method 'split' of 'str' objects}                              <-    2559    0.003    0.003  http_response.py:173(parse_ststus)
                                                                     2559    0.004    0.004  http_server.py:216(found_terminator)
                                                                     2572    0.002    0.002  logger.py:121(log)
                                                                     5118    0.004    0.004  posixpath.py:338(normpath)
                                                                     5118    0.005    0.005  tasks.py:31(dict)
                                                                     2559    0.005    0.005  triple_logger.py:12(log)
                                                                     5118    0.006    0.006  vhost_handler.py:118(find)
                                                                    10236    0.008    0.008  wsgi_handler.py:61(build_environ)
asynpsycopg2.py:62(readable)                                   <-   34505    0.019    0.019  asyncore.py:165(_poll_map)
asynpsycopg2.py:59(writable)                                   <-   34505    0.014    0.014  asyncore.py:165(_poll_map)
http_request.py:378(get_header)                                <-    2559    0.016    0.019  api.py:161(__init__)
                                                                     2559    0.010    0.012  auth.py:135(is_allowed_origin)
                                                                     2559    0.009    0.011  http2_handler.py:617(handle_request)
                                                                     2559    0.004    0.004  http_request.py:242(get_host)
                                                                     5118    0.013    0.017  http_request.py:245(get_user_agent)
                                                                     2559    0.008    0.010  http_request.py:251(get_real_ip)
                                                                     2559    0.013    0.016  http_request.py:344(set_log_info)
                                                                     2559    0.012    0.014  http_response.py:339(done)
                                                                     2559    0.012    0.015  http_response.py:508(log)
                                                                     2559    0.011    0.014  vhost_handler.py:67(match)
                                                                     2559    0.004    0.005  vhost_handler.py:70(handle_request)
                                                                     2559    0.005    0.005  websocket_handler.py:21(match)
threading.py:239(__enter__)                                    <-    2559    0.003    0.004  queue.py:115(put)
                                                                    10236    0.010    0.015  task.py:147(get_status)
                                                                     5118    0.003    0.005  task.py:155(set_status)
                                                                    15354    0.009    0.014  task.py:453(_collect)
threading.py:242(__exit__)                                     <-    2559    0.003    0.003  queue.py:115(put)
                                                                    10236    0.008    0.011  task.py:147(get_status)
                                                                     5118    0.003    0.004  task.py:155(set_status)
                                                                    15354    0.009    0.012  task.py:453(_collect)
{method '__enter__' of '_thread.RLock' objects}                <-   30708    0.013    0.013  threading.py:239(__enter__)
{method '__exit__' of '_thread.RLock' objects}                 <-   30708    0.007    0.007  threading.py:242(__exit__)
attrdict.py:4(__init__)                                        <-   28149    0.051    0.051  request.py:62(data)
                                                                     2559    0.005    0.005  tasks.py:31(dict)
{method 'strftime' of 'datetime.date' objects}                 <-   25590    0.213    0.213  api.py:59(default)
{method 'astimezone' of 'datetime.datetime' objects}           <-   25590    0.059    0.070  api.py:18(_to_utc)
api.py:18(_to_utc)                                             <-   25590    0.018    0.087  api.py:59(default)
api.py:59(default)                                             <-   25590    0.052    0.361  encoder.py:204(iterencode)
tz.py:55(__init__)                                             <-   25590    0.080    0.080  {method 'fetchall' of 'psycopg2.extensions.cursor' objects}
tz.py:61(__new__)                                              <-   25590    0.020    0.020  {method 'fetchall' of 'psycopg2.extensions.cursor' objects}
tz.py:81(utcoffset)                                            <-   25590    0.010    0.010  {method 'astimezone' of 'datetime.datetime' objects}
producers.py:579(first)                                        <-    2559    0.002    0.002  http_response.py:339(done)
                                                                     7677    0.003    0.003  producers.py:294(override)
                                                                    15354    0.005    0.005  producers.py:307(more)
{method 'startswith' of 'str' objects}                         <-    2559    0.002    0.002  api.py:129(to_string)
                                                                     5118    0.003    0.003  posixpath.py:75(join)
                                                                    10236    0.004    0.004  posixpath.py:338(normpath)
                                                                     5118    0.002    0.002  wsgi_apps.py:325(has_route)
task.py:46(__getattr__)                                        <-    5118    0.004    0.011  task.py:49(reraise)
                                                                    12795    0.008    0.291  task.py:71(fetch)
                                                                     5118    0.005    0.013  task.py:554(dispatch)
counter.py:8(inc)                                              <-    2559    0.002    0.004  http_request.py:34(__init__)
                                                                      154    0.000    0.000  http_server.py:46(__init__)
                                                                     5118    0.005    0.010  http_server.py:171(send)
                                                                     5118    0.004    0.009  http_server.py:179(recv)
                                                                     5118    0.004    0.007  http_server.py:216(found_terminator)
                                                                      154    0.000    0.000  http_server.py:591(handle_accept)
counter.py:14(increment)                                       <-   18221    0.017    0.017  counter.py:8(inc)
{method 'join' of 'str' objects}                               <-       1    0.000    0.000  __init__.py:43(normalize_encoding)
                                                                     2559    0.001    0.001  encoder.py:182(encode)
                                                                     2559    0.002    0.002  http_response.py:160(build_reply_header)
                                                                     5118    0.001    0.001  posixpath.py:338(normpath)
                                                                     2559    0.002    0.002  triple_logger.py:12(log)
                                                                     5118    0.002    0.002  wsgi_handler.py:61(build_environ)
{method 'strip' of 'str' objects}                              <-    4836    0.002    0.002  asynpsycopg2.py:175(_compile)
                                                                     5118    0.002    0.002  http_request.py:378(get_header)
                                                                     2584    0.001    0.001  logger.py:121(log)
                                                                     5118    0.002    0.002  wsgi_handler.py:61(build_environ)
{method 'get' of 'dict' objects}                               <-       3    0.000    0.000  __init__.py:71(search_function)
                                                                        1    0.000    0.000  mixin.py:437(life_cycle)
                                                                      154    0.002    0.002  socket.py:198(accept)
                                                                    10236    0.004    0.004  vhost_handler.py:118(find)
                                                                     5118    0.002    0.002  was.py:311(API)
socket_map.py:41(get)                                          <-   15367    0.046    0.046  asyncore.py:165(_poll_map)
asyncore.py:105(readwrite)                                     <-   15367    0.061    6.689  asyncore.py:165(_poll_map)
{method 'poll' of 'psycopg2.extensions.connection' objects}    <-   15365    0.327    0.402  asynpsycopg2.py:37(poll)
asynpsycopg2.py:37(poll)                                       <-     178    0.000    0.015  asynpsycopg2.py:74(handle_connect_event)
                                                                     5233    0.006    0.326  asynpsycopg2.py:95(handle_read)
                                                                     5118    0.005    0.035  asynpsycopg2.py:104(handle_write)
                                                                     4836    0.006    0.044  asynpsycopg2.py:187(execute)
cbutil.py:2(tuple_cb)                                          <-    5118    0.011    3.431  request.py:47(handle_callback)
                                                                     5118    0.013    3.311  task.py:54(handle_result)
                                                                     5118    0.012    3.064  task.py:503(_do_callback)
baseconnect.py:77(set_event_time)                              <-    5118    0.007    0.010  asynpsycopg2.py:95(handle_read)
                                                                     5118    0.006    0.009  asynpsycopg2.py:104(handle_write)
                                                                     4836    0.004    0.005  dbconnect.py:146(begin_tran)
{method 'format' of 'str' objects}                             <-    2572    0.003    0.003  logger.py:121(log)
                                                                    10262    0.010    0.010  termcolor.py:23(_wrap)
http_response.py:106(delete)                                   <-    2559    0.005    0.006  http_response.py:106(delete)
                                                                     7677    0.027    0.040  http_response.py:120(update)
                                                                     2559    0.007    0.010  http_response.py:339(done)
request.py:62(data)                                            <-   12795    0.191    0.272  {built-in method builtins.getattr}
producers.py:294(override)                                     <-    5118    0.012    0.033  producers.py:278(__init__)
                                                                     7677    0.008    0.036  producers.py:307(more)
producers.py:307(more)                                         <-    5118    0.012    0.036  producers.py:307(more)
                                                                     7677    0.027    0.127  producers.py:409(more)
termcolor.py:23(_wrap)                                         <-      13    0.000    0.000  termcolor.py:45(greeen)
                                                                     7677    0.008    0.015  termcolor.py:70(white)
                                                                     2572    0.003    0.006  termcolor.py:75(blue)
{method 'group' of '_sre.SRE_Match' objects}                   <-   10236    0.004    0.004  http_util.py:58(crack_request)
{method 'match' of '_sre.SRE_Pattern' objects}                 <-    2559    0.008    0.008  http_request.py:422(split_uri)
                                                                     2559    0.009    0.009  http_util.py:58(crack_request)
                                                                     5118    0.007    0.007  http_util.py:79(get_header)
{built-in method posix.fspath}                                 <-    5118    0.002    0.002  posixpath.py:75(join)
                                                                     5118    0.001    0.001  posixpath.py:338(normpath)
{method 'upper' of 'str' objects}                              <-    2559    0.001    0.001  http_request.py:138(method)
                                                                     7677    0.002    0.002  wsgi_handler.py:61(build_environ)
http_request.py:422(split_uri)                                 <-    2559    0.009    0.020  default_handler.py:141(handle_request)
                                                                     2559    0.001    0.001  wsgi_handler.py:61(build_environ)
                                                                     2559    0.001    0.001  wsgi_handler.py:140(handle_request)
                                                                     2559    0.001    0.001  wsgi_handler.py:200(continue_request)
task.py:147(get_status)                                        <-    5118    0.020    0.038  task.py:54(handle_result)
                                                                     5118    0.008    0.017  task.py:453(_collect)
request.py:39(status_code)                                     <-   10236    0.004    0.004  {built-in method builtins.getattr}
producers.py:39(more)                                          <-   10236    0.010    0.012  producers.py:307(more)
producers.py:409(more)                                         <-   10116    0.017    0.676  producers.py:339(more)
baseconnect.py:73(set_timeout)                                 <-    5128    0.002    0.002  baseconnect.py:80(_set_active)
                                                                     4836    0.002    0.002  dbconnect.py:14(execute_late)
baseconnect.py:80(_set_active)                                 <-    4836    0.008    0.011  baseconnect.py:80(_set_active)
                                                                     5128    0.015    0.034  baseconnect.py:92(set_active)
asyncore.py:458(handle_read_event)                             <-    9858    0.018    6.242  asyncore.py:105(readwrite)
socket_map.py:26(__len__)                                      <-    3456    0.005    0.005  asyncore.py:203(epoll)
                                                                     3457    0.011    0.011  lifetime.py:144(lifetime_loop)
                                                                        4    0.000    0.000  lifetime.py:158(graceful_shutdown_loop)
                                                                     2559    0.010    0.010  {built-in method builtins.len}
{method 'find' of 'str' objects}                               <-    2559    0.003    0.003  api.py:94(set_content_type)
                                                                     5118    0.006    0.006  default_handler.py:141(handle_request)
                                                                       12    0.000    0.000  logger.py:121(log)
<frozen importlib._bootstrap>:997(_handle_fromlist)            <-    7677    0.012    0.024  utility.py:6(make_pushables)
                                                                        1    0.000    0.000  {built-in method builtins.__import__}
{method 'append' of 'collections.deque' objects}               <-    2559    0.001    0.001  fifo.py:54(insert)
                                                                     2559    0.001    0.001  producers.py:582(push)
                                                                     2559    0.001    0.001  queue.py:206(_put)
{method 'popleft' of 'collections.deque' objects}              <-    7677    0.002    0.002  producers.py:589(pop)
{method 'rpartition' of 'str' objects}                         <-    7677    0.004    0.004  <frozen importlib._bootstrap>:416(parent)
http_response.py:75(is_responsable)                            <-    2559    0.001    0.001  http_response.py:325(push)
                                                                     2559    0.001    0.001  http_response.py:339(done)
                                                                     2559    0.001    0.001  utility.py:6(make_pushables)
http_response.py:95(<listcomp>)                                <-    7677    0.014    0.019  http_response.py:93(has_key)
http_response.py:93(has_key)                                   <-    7677    0.014    0.036  http_response.py:339(done)
http_response.py:97(set)                                       <-    7677    0.007    0.009  http_response.py:120(update)
http_response.py:120(update)                                   <-    2559    0.005    0.018  http_response.py:574(API)
                                                                     5118    0.008    0.044  utility.py:6(make_pushables)
wsgi_apps.py:325(has_route)                                    <-    5118    0.009    0.011  wsgi_apps.py:314(get_app)
                                                                     2559    0.010    0.012  wsgi_handler.py:140(handle_request)
producers.py:589(pop)                                          <-    7677    0.007    0.009  producers.py:307(more)
termcolor.py:70(white)                                         <-    7677    0.007    0.022  triple_logger.py:12(log)
<frozen importlib._bootstrap>:416(parent)                      <-    7677    0.009    0.013  utility.py:6(make_pushables)
fifo.py:36(__getitem__)                                        <-    7557    0.003    0.003  asynchat.py:225(initiate_send)
asynpsycopg2.py:83(handle_write_event)                         <-    5296    0.007    0.301  asyncore.py:105(readwrite)
asynpsycopg2.py:95(handle_read)                                <-    5233    0.022    4.376  asyncore.py:458(handle_read_event)
{method 'insert' of 'list' objects}                            <-    5144    0.009    0.009  logger.py:69(cache)
logger.py:69(cache)                                            <-    2572    0.015    0.021  logger.py:85(_writeln)
                                                                     2572    0.008    0.011  logger.py:294(log)
{built-in method time.strftime}                                <-    2559    0.012    0.012  http_date.py:107(build_http_date)
                                                                     2572    0.013    0.013  logger.py:27(now)
asynpsycopg2.py:125(close_cursor)                              <-    5118    0.013    0.019  asynpsycopg2.py:133(close_case)
                                                                       10    0.000    0.000  asynpsycopg2.py:153(close)
baseconnect.py:92(set_active)                                  <-    5118    0.020    0.253  asynpsycopg2.py:133(close_case)
                                                                       10    0.000    0.000  dbconnect.py:71(close)
{method 'pop' of 'dict' objects}                               <-       1    0.000    0.000  bus.py:105(emit)
                                                                     5118    0.004    0.004  task.py:453(_collect)
{method 'end' of '_sre.SRE_Match' objects}                     <-    2559    0.001    0.001  http_request.py:422(split_uri)
                                                                     2559    0.001    0.001  http_util.py:58(crack_request)
{method 'sub' of '_sre.SRE_Pattern' objects}                   <-    5118    0.017    0.017  re.py:184(sub)
{method 'acquire' of '_thread.RLock' objects}                  <-    5118    0.002    0.002  cluster_manager.py:277(report)
{method 'release' of '_thread.RLock' objects}                  <-    5118    0.001    0.001  cluster_manager.py:277(report)
{built-in method posix.stat}                                   <-    2559    0.006    0.006  genericpath.py:27(isfile)
                                                                     2559    0.014    0.014  genericpath.py:39(isdir)
{method 'endswith' of 'str' objects}                           <-    5118    0.003    0.003  posixpath.py:75(join)
filesys.py:184(normalize)                                      <-    2559    0.008    0.043  filesys.py:101(isfile)
                                                                     2559    0.010    0.055  filesys.py:108(isdir)
filesys.py:245(translate)                                      <-    2559    0.001    0.001  filesys.py:101(isfile)
                                                                     2559    0.002    0.002  filesys.py:108(isdir)
http_server.py:152(set_timeout)                                <-    2559    0.001    0.001  http_server.py:167(done_request)
                                                                     2559    0.001    0.001  http_server.py:216(found_terminator)
http_server.py:159(attend_to)                                  <-    5118    0.002    0.002  http_response.py:312(die_with)
http_request.py:181(user_agent)                                <-    5118    0.004    0.025  http_response.py:508(log)
http_request.py:245(get_user_agent)                            <-    5118    0.004    0.021  http_request.py:181(user_agent)
vhost_handler.py:118(find)                                     <-    2559    0.009    0.015  vhost_handler.py:67(match)
                                                                     2559    0.006    0.010  vhost_handler.py:70(handle_request)
http_server.py:74(initiate_send)                               <-    2559    0.009    1.070  asynchat.py:205(push_with_producer)
                                                                     2559    0.012    0.076  http_server.py:87(handle_write)
api.py:108(get_content_type)                                   <-    2559    0.001    0.001  http_response.py:574(API)
                                                                     2559    0.001    0.001  utility.py:6(make_pushables)
task.py:45(get_result)                                         <-    5118    0.003    0.003  task.py:558(<listcomp>)
task.py:54(handle_result)                                      <-    5118    0.034    3.420  cbutil.py:2(tuple_cb)
tasks.py:243(_collect)                                         <-    5118    0.021    3.050  cbutil.py:2(tuple_cb)
http_response.py:81(__len__)                                   <-    2559    0.002    0.007  http_request.py:453(response_finished)
                                                                     2559    0.002    0.008  {built-in method builtins.len}
http_response.py:100(get)                                      <-    2559    0.007    0.010  http_response.py:87(__getitem__)
                                                                     2559    0.006    0.008  http_response.py:339(done)
http_response.py:312(die_with)                                 <-    5118    0.007    0.009  http_response.py:339(done)
task.py:49(reraise)                                            <-    5118    0.011    0.022  task.py:71(fetch)
task.py:63(cache)                                              <-    5118    0.002    0.002  task.py:71(fetch)
task.py:71(fetch)                                              <-    2559    0.022    0.078  task.py:84(one)
                                                                     2559    0.009    0.270  task.py:589(fetch)
task.py:155(set_status)                                        <-    5118    0.012    0.021  task.py:54(handle_result)
task.py:170(do_filter)                                         <-    5118    0.002    0.002  task.py:453(_collect)
task.py:453(_collect)                                          <-    5118    0.067    3.298  cbutil.py:2(tuple_cb)
task.py:503(_do_callback)                                      <-    5118    0.014    3.136  task.py:453(_collect)
task.py:558(<listcomp>)                                        <-    5118    0.007    0.010  task.py:554(dispatch)
task.py:554(dispatch)                                          <-    5118    0.033    0.059  task.py:503(_do_callback)
task.py:604(cache)                                             <-    5118    0.003    0.003  task.py:554(dispatch)
rcache.py:6(__init__)                                          <-    5118    0.007    0.007  task.py:41(__init__)
wsgi_apps.py:314(get_app)                                      <-    2559    0.004    0.006  wsgi_handler.py:140(handle_request)
                                                                     2559    0.003    0.013  wsgi_handler.py:200(continue_request)
cluster_manager.py:277(report)                                 <-    5118    0.031    0.042  task.py:453(_collect)
task.py:41(__init__)                                           <-    5118    0.010    0.016  task.py:54(handle_result)
request.py:50(handle_result)                                   <-    5118    0.010    3.449  asynpsycopg2.py:133(close_case)
request.py:73(<listcomp>)                                      <-    5118    0.021    0.021  request.py:62(data)
request.py:47(handle_callback)                                 <-    5118    0.008    3.439  request.py:50(handle_result)
{method 'close' of 'psycopg2.extensions.cursor' objects}       <-    5118    0.006    0.006  asynpsycopg2.py:125(close_cursor)
{method 'execute' of 'psycopg2.extensions.cursor' objects}     <-    5118    0.214    0.214  asynpsycopg2.py:104(handle_write)
{method 'fetchall' of 'psycopg2.extensions.cursor' objects}    <-    5118    0.147    0.248  asynpsycopg2.py:148(fetchall)
asynpsycopg2.py:104(handle_write)                              <-    5118    0.021    0.278  asynpsycopg2.py:83(handle_write_event)
asynpsycopg2.py:133(close_case)                                <-    5118    0.032    4.007  dbconnect.py:133(close_case_with_end_tran)
asynpsycopg2.py:148(fetchall)                                  <-    5118    0.006    0.254  asynpsycopg2.py:133(close_case)
asynpsycopg2.py:172(end_tran)                                  <-    5118    0.003    0.003  dbconnect.py:133(close_case_with_end_tran)
dbconnect.py:133(close_case_with_end_tran)                     <-    5118    0.009    4.018  asynpsycopg2.py:95(handle_read)
producers.py:558(__init__)                                     <-    2559    0.004    0.004  http_response.py:52(__init__)
                                                                     2559    0.004    0.004  http_response.py:339(done)
fifo.py:14(working)                                            <-    5118    0.003    0.003  http_server.py:74(initiate_send)
fifo.py:54(insert)                                             <-    2559    0.004    0.005  fifo.py:48(append)
                                                                     2559    0.010    0.016  fifo.py:51(appendleft)
producers.py:278(__init__)                                     <-    5118    0.007    0.039  http_response.py:339(done)
producers.py:28(__init__)                                      <-    2559    0.005    0.005  http_response.py:325(push)
                                                                     2559    0.003    0.004  http_response.py:339(done)
asynchat.py:225(initiate_send)                                 <-    5118    0.069    1.115  http_server.py:74(initiate_send)
re.py:184(sub)                                                 <-    5118    0.008    0.035  filesys.py:184(normalize)
re.py:286(_compile)                                            <-    5118    0.009    0.010  re.py:184(sub)
posixpath.py:41(_get_sep)                                      <-    5118    0.004    0.006  posixpath.py:75(join)
posixpath.py:75(join)                                          <-    2559    0.010    0.016  filesys.py:101(isfile)
                                                                     2559    0.014    0.022  filesys.py:108(isdir)
posixpath.py:338(normpath)                                     <-    5118    0.030    0.043  filesys.py:184(normalize)
fifo.py:42(__delitem__)                                        <-    4998    0.005    0.005  asynchat.py:225(initiate_send)
producers.py:339(more)                                         <-    4998    0.022    0.701  asynchat.py:225(initiate_send)
{method 'cursor' of 'psycopg2.extensions.connection' objects}  <-    4846    0.042    0.042  asynpsycopg2.py:118(create_cursor)
asynpsycopg2.py:118(create_cursor)                             <-      10    0.000    0.000  asynpsycopg2.py:92(handle_connect)
                                                                     4836    0.008    0.050  asynpsycopg2.py:187(execute)
{method 'pop' of 'list' objects}                               <-    4836    0.006    0.006  baseconnect.py:80(_set_active)
                                                                        4    0.000    0.000  lifetime.py:91(__call__)
asynpsycopg2.py:175(_compile)                                  <-    4836    0.013    0.020  asynpsycopg2.py:187(execute)
asynpsycopg2.py:187(execute)                                   <-    4836    0.024    0.173  dbconnect.py:14(execute_late)
dbconnect.py:14(execute_late)                                  <-    4836    0.021    0.199  baseconnect.py:92(set_active)
dbconnect.py:53(close_if_over_keep_live)                       <-    4836    0.013    0.014  dbconnect.py:146(begin_tran)
dbconnect.py:146(begin_tran)                                   <-    4836    0.016    0.035  asynpsycopg2.py:187(execute)
baseconnect.py:14(__getattr__)                                 <-    4836    0.005    0.008  cluster_manager.py:277(report)
baseconnect.py:26(_canceled)                                   <-    4836    0.003    0.003  dbconnect.py:14(execute_late)
asyncore.py:417(recv)                                          <-    2713    0.005    0.304  http_server.py:179(recv)
                                                                     1758    0.003    0.023  select_trigger.py:79(handle_read)
{method 'acquire' of '_thread.lock' objects}                   <-    1758    0.001    0.001  select_trigger.py:79(handle_read)
                                                                     2559    0.002    0.002  threading.py:254(_is_owned)
{method 'release' of '_thread.lock' objects}                   <-    1758    0.001    0.001  select_trigger.py:79(handle_read)
                                                                     2558    0.018    0.018  threading.py:334(notify)
socket_map.py:55(items)                                        <-    3456    0.056    0.056  asyncore.py:165(_poll_map)
                                                                        3    0.000    0.000  lifetime.py:158(graceful_shutdown_loop)
                                                                        1    0.000    0.000  trigger.py:38(wakeselect)
{method 'poll' of 'select.epoll' objects}                      <-    3456    5.810    5.810  asyncore.py:165(_poll_map)
http_server.py:545(writable)                                   <-    3456    0.001    0.001  asyncore.py:165(_poll_map)
http_server.py:582(readable)                                   <-    3456    0.002    0.002  asyncore.py:165(_poll_map)
select_trigger.py:60(readable)                                 <-    3456    0.001    0.001  asyncore.py:165(_poll_map)
select_trigger.py:63(writable)                                 <-    3456    0.001    0.001  asyncore.py:165(_poll_map)
asyncore.py:165(_poll_map)                                     <-    3456    1.559   17.470  asyncore.py:203(epoll)
asyncore.py:203(epoll)                                         <-    3456    1.678   19.153  lifetime.py:238(poll_fun_wrap)
lifetime.py:60(tick)                                           <-    3456    0.011    0.011  lifetime.py:144(lifetime_loop)
lifetime.py:238(poll_fun_wrap)                                 <-    3456    0.006   19.159  lifetime.py:144(lifetime_loop)
{method 'recv' of '_socket.socket' objects}                    <-    2713    0.279    0.279  asyncore.py:417(recv)
http_server.py:179(recv)                                       <-    2713    0.019    0.334  asynchat.py:114(handle_read)
asynchat.py:95(set_terminator)                                 <-    2559    0.004    0.007  http_response.py:339(done)
                                                                      154    0.000    0.001  http_server.py:46(__init__)
asynchat.py:114(handle_read)                                   <-    2713    0.007    1.705  asyncore.py:458(handle_read_event)
asynchat.py:124(find_terminator)                               <-    2713    0.025    1.364  asynchat.py:114(handle_read)
{method 'write' of '_io.TextIOWrapper' objects}                <-    2572    0.132    0.132  logger.py:85(_writeln)
{method 'flush' of '_io.TextIOWrapper' objects}                <-    2572    0.002    0.002  logger.py:63(flush)
{built-in method time.localtime}                               <-    2572    0.019    0.019  logger.py:27(now)
synchronize.py:94(__enter__)                                   <-    2572    0.004    0.027  logger.py:85(_writeln)
synchronize.py:97(__exit__)                                    <-    2572    0.004    0.005  logger.py:85(_writeln)
logger.py:85(_writeln)                                         <-    2572    0.020    0.210  logger.py:121(log)
logger.py:121(log)                                             <-      13    0.000    0.002  logger.py:294(log)
                                                                     2559    0.027    0.299  triple_logger.py:12(log)
logger.py:294(log)                                             <-       1    0.000    0.000  http_server.py:557(log)
                                                                     2559    0.009    0.369  http_server.py:563(log_request)
                                                                       10    0.000    0.002  logger.py:54(__call__)
                                                                        2    0.000    0.000  triple_logger.py:75(__call__)
logger.py:27(now)                                              <-    2572    0.006    0.039  logger.py:121(log)
logger.py:63(flush)                                            <-    2572    0.003    0.005  logger.py:85(_writeln)
logger.py:74(tag)                                              <-    2572    0.003    0.003  logger.py:121(log)
{method '__enter__' of '_multiprocessing.SemLock' objects}     <-    2572    0.023    0.023  synchronize.py:94(__enter__)
{method '__exit__' of '_multiprocessing.SemLock' objects}      <-    2572    0.002    0.002  synchronize.py:97(__exit__)
termcolor.py:75(blue)                                          <-    2572    0.003    0.008  logger.py:121(log)
{built-in method time.gmtime}                                  <-    2559    0.012    0.012  http_date.py:107(build_http_date)
{method 'groups' of '_sre.SRE_Match' objects}                  <-    2559    0.001    0.001  http_request.py:422(split_uri)
{method '__enter__' of '_thread.lock' objects}                 <-    2559    0.001    0.001  threading.py:239(__enter__)
{method '__exit__' of '_thread.lock' objects}                  <-    2559    0.001    0.001  threading.py:242(__exit__)
{method 'appendleft' of 'collections.deque' objects}           <-    2559    0.001    0.001  fifo.py:54(insert)
{method 'send' of '_socket.socket' objects}                    <-    2559    0.223    0.223  asyncore.py:404(send)
{method 'copy' of 'dict' objects}                              <-    2559    0.006    0.006  wsgi_handler.py:61(build_environ)
{method 'extend' of 'list' objects}                            <-    2559    0.001    0.001  http_response.py:160(build_reply_header)
{method 'find' of 'bytes' objects}                             <-    2559    0.004    0.004  asynchat.py:124(find_terminator)
{method 'isalpha' of 'str' objects}                            <-    2559    0.001    0.001  http_response.py:508(log)
default_handler.py:84(handle_alternative)                      <-    2559    0.013    0.777  default_handler.py:141(handle_request)
default_handler.py:141(handle_request)                         <-    2559    0.022    1.023  http2_handler.py:617(handle_request)
websocket_handler.py:21(match)                                 <-    2559    0.003    0.008  default_handler.py:84(handle_alternative)
filesys.py:101(isfile)                                         <-    2559    0.012    0.083  default_handler.py:141(handle_request)
filesys.py:108(isdir)                                          <-    2559    0.017    0.116  default_handler.py:141(handle_request)
proxypass_handler.py:26(match)                                 <-    2559    0.003    0.007  default_handler.py:84(handle_alternative)
proxypass_handler.py:29(find_cluster)                          <-    2559    0.003    0.003  proxypass_handler.py:26(match)
http2_handler.py:614(match)                                    <-    2559    0.001    0.001  vhost_handler.py:70(handle_request)
http2_handler.py:617(handle_request)                           <-    2559    0.008    1.042  vhost_handler.py:70(handle_request)
http_server.py:167(done_request)                               <-    2559    0.005    0.006  http_server.py:74(initiate_send)
http_server.py:171(send)                                       <-    2559    0.021    0.261  asynchat.py:225(initiate_send)
http_server.py:195(collect_incoming_data)                      <-    2559    0.002    0.002  asynchat.py:124(find_terminator)
http_server.py:216(found_terminator)                           <-    2559    0.041    1.327  asynchat.py:124(find_terminator)
http_server.py:563(log_request)                                <-    2559    0.006    0.375  http_response.py:508(log)
http_request.py:34(__init__)                                   <-    2559    0.026    0.129  http_server.py:216(found_terminator)
http_request.py:138(method)                                    <-    2559    0.002    0.003  http_response.py:508(log)
http_request.py:189(host)                                      <-    2559    0.003    0.009  http_response.py:508(log)
http_request.py:242(get_host)                                  <-    2559    0.002    0.007  http_request.py:189(host)
http_request.py:251(get_real_ip)                               <-    2559    0.004    0.014  http_response.py:508(log)
http_request.py:344(set_log_info)                              <-    2559    0.016    0.036  http_request.py:34(__init__)
http_request.py:415(make_response)                             <-    2559    0.005    0.060  http_request.py:34(__init__)
http_request.py:418(is_promise)                                <-    2559    0.001    0.001  http_response.py:508(log)
http_request.py:453(response_finished)                         <-    2559    0.004    0.012  http_response.py:508(log)
threadlib.py:72(__len__)                                       <-    2559    0.002    0.003  wsgi_handler.py:200(continue_request)
threadlib.py:138(put)                                          <-    2559    0.010    0.086  wsgi_handler.py:200(continue_request)
vhost_handler.py:67(match)                                     <-    2559    0.005    0.034  http_server.py:216(found_terminator)
vhost_handler.py:70(handle_request)                            <-    2559    0.011    1.067  http_server.py:216(found_terminator)
wsgi_handler.py:55(match)                                      <-    2559    0.001    0.001  default_handler.py:84(handle_alternative)
wsgi_handler.py:61(build_environ)                              <-    2559    0.101    0.544  wsgi_handler.py:200(continue_request)
wsgi_handler.py:140(handle_request)                            <-    2559    0.029    0.748  default_handler.py:84(handle_alternative)
wsgi_handler.py:200(continue_request)                          <-    2559    0.025    0.676  wsgi_handler.py:140(handle_request)
wsgi_handler.py:235(__init__)                                  <-    2559    0.004    0.004  wsgi_handler.py:200(continue_request)
auth.py:135(is_allowed_origin)                                 <-    2559    0.003    0.015  wsgi_handler.py:140(handle_request)
auth.py:145(is_authorized)                                     <-    2559    0.001    0.001  wsgi_handler.py:140(handle_request)
http_server.py:87(handle_write)                                <-    2559    0.006    0.082  asyncore.py:478(handle_write_event)
http_server.py:118(push_with_producer)                         <-    2559    0.014    1.097  http_response.py:339(done)
counter.py:39(__str__)                                         <-    2559    0.005    0.005  http_request.py:344(set_log_info)
api.py:94(set_content_type)                                    <-    2559    0.002    0.006  api.py:161(__init__)
api.py:99(set_json_encoder)                                    <-    2559    0.004    0.005  was.py:311(API)
api.py:129(to_string)                                          <-    2559    0.012    0.821  utility.py:6(make_pushables)
api.py:161(__init__)                                           <-    2559    0.010    0.034  http_response.py:574(API)
tasks.py:12(__init__)                                          <-    2559    0.016    0.019  tasks.py:64(__init__)
tasks.py:31(dict)                                              <-    2559    0.036    0.412  was.py:323(_mapped_callback)
tasks.py:64(__init__)                                          <-    2559    0.004    0.023  tasks.py:181(__init__)
tasks.py:181(__init__)                                         <-    2559    0.004    0.027  tasks.py:243(_collect)
tasks.py:185(__del__)                                          <-    2559    0.002    0.002  cbutil.py:2(tuple_cb)
http_response.py:52(__init__)                                  <-    2559    0.021    0.055  http_request.py:415(make_response)
http_response.py:69(is_async_streaming)                        <-    2559    0.001    0.001  http_response.py:339(done)
http_response.py:87(__getitem__)                               <-    2559    0.003    0.013  utility.py:6(make_pushables)
http_response.py:152(set_reply)                                <-    2559    0.007    0.018  http_response.py:574(API)
http_response.py:163(<listcomp>)                               <-    2559    0.006    0.006  http_response.py:160(build_reply_header)
http_response.py:160(build_reply_header)                       <-    2559    0.012    0.027  http_response.py:339(done)
http_response.py:170(response)                                 <-    2559    0.006    0.006  http_response.py:160(build_reply_header)
http_response.py:173(parse_ststus)                             <-    2559    0.007    0.011  http_response.py:152(set_reply)
http_response.py:325(push)                                     <-    2559    0.011    0.022  __init__.py:26(_late_respond)
http_response.py:339(done)                                     <-    2559    0.087    1.410  __init__.py:26(_late_respond)
http_response.py:508(log)                                      <-    2559    0.060    0.531  producers.py:409(more)
http_response.py:574(API)                                      <-    2559    0.014    0.084  was.py:311(API)
selective_logger.py:28(loggable)                               <-    2559    0.002    0.002  selective_logger.py:58(__call__)
selective_logger.py:58(__call__)                               <-    2559    0.007    0.017  http_response.py:339(done)
triple_logger.py:12(log)                                       <-    2559    0.020    0.348  logger.py:294(log)
task.py:84(one)                                                <-    2559    0.003    0.081  task.py:593(one)
task.py:589(fetch)                                             <-    2559    0.005    0.275  tasks.py:31(dict)
task.py:593(one)                                               <-    2559    0.005    0.086  tasks.py:31(dict)
__init__.py:26(_late_respond)                                  <-    2559    0.028    3.001  tasks.py:243(_collect)
__init__.py:57(deallocate)                                     <-    2559    0.011    0.011  __init__.py:26(_late_respond)
utility.py:6(make_pushables)                                   <-    2559    0.070    1.006  __init__.py:26(_late_respond)
wsgi_apps.py:93(get_callable)                                  <-    2559    0.005    0.007  wsgi_handler.py:140(handle_request)
wsgi_apps.py:259(get_path_info)                                <-    2559    0.002    0.002  wsgi_handler.py:61(build_environ)
was.py:311(API)                                                <-    2559    0.014    0.105  was.py:323(_mapped_callback)
was.py:323(_mapped_callback)                                   <-    2559    0.007    0.525  __init__.py:26(_late_respond)
producers.py:582(push)                                         <-    2559    0.003    0.004  http_response.py:325(push)
fifo.py:48(append)                                             <-    2559    0.003    0.007  asynchat.py:205(push_with_producer)
fifo.py:51(appendleft)                                         <-    2559    0.003    0.019  asynchat.py:225(initiate_send)
producers.py:326(__init__)                                     <-    2559    0.004    0.006  producers.py:384(globbing_producer)
producers.py:384(globbing_producer)                            <-    2559    0.005    0.014  http_response.py:339(done)
producers.py:395(__init__)                                     <-    2559    0.004    0.009  selective_logger.py:58(__call__)
producers.py:404(override)                                     <-    2559    0.002    0.004  producers.py:395(__init__)
http_date.py:107(build_http_date)                              <-    2559    0.005    0.028  http_response.py:52(__init__)
http_util.py:58(crack_request)                                 <-    2559    0.011    0.026  http_server.py:216(found_terminator)
http_util.py:70(join_headers)                                  <-    2559    0.011    0.013  http_server.py:216(found_terminator)
http_util.py:79(get_header)                                    <-    2559    0.005    0.012  http_response.py:339(done)
__init__.py:183(dumps)                                         <-    2559    0.018    0.807  api.py:129(to_string)
encoder.py:104(__init__)                                       <-    2559    0.004    0.004  __init__.py:183(dumps)
encoder.py:182(encode)                                         <-    2559    0.013    0.785  __init__.py:183(dumps)
encoder.py:204(iterencode)                                     <-    2559    0.409    0.770  encoder.py:182(encode)
asynchat.py:106(get_terminator)                                <-    2559    0.001    0.001  asynchat.py:124(find_terminator)
asynchat.py:205(push_with_producer)                            <-    2559    0.006    1.083  http_server.py:118(push_with_producer)
asyncore.py:404(send)                                          <-    2559    0.005    0.228  http_server.py:171(send)
asyncore.py:478(handle_write_event)                            <-    2559    0.004    0.086  asyncore.py:105(readwrite)
queue.py:85(qsize)                                             <-    2559    0.008    0.010  threadlib.py:138(put)
queue.py:115(put)                                              <-    2559    0.016    0.065  threadlib.py:138(put)
queue.py:202(_qsize)                                           <-    2559    0.002    0.002  queue.py:85(qsize)
queue.py:206(_put)                                             <-    2559    0.003    0.004  queue.py:115(put)
termcolor.py:27(default)                                       <-    2559    0.001    0.001  logger.py:121(log)
threading.py:254(_is_owned)                                    <-    2559    0.003    0.005  threading.py:334(notify)
threading.py:334(notify)                                       <-    2559    0.015    0.039  queue.py:115(put)
os.py:693(__len__)                                             <-    2559    0.002    0.002  {built-in method builtins.len}
genericpath.py:27(isfile)                                      <-    2559    0.004    0.011  filesys.py:101(isfile)
genericpath.py:39(isdir)                                       <-    2559    0.007    0.021  filesys.py:108(isdir)
_collections_abc.py:676(items)                                 <-    2559    0.005    0.007  wsgi_handler.py:61(build_environ)
_collections_abc.py:698(__init__)                              <-    2559    0.002    0.002  _collections_abc.py:676(items)
_collections_abc.py:701(__len__)                               <-    2559    0.002    0.007  wsgi_handler.py:61(build_environ)
{method 'remove' of 'collections.deque' objects}               <-    2558    0.001    0.001  threading.py:334(notify)
{built-in method posix.read}                                   <-    1758    0.015    0.015  asyncore.py:647(recv)
select_trigger.py:79(handle_read)                              <-    1758    0.008    0.032  asyncore.py:458(handle_read_event)
asyncore.py:647(recv)                                          <-    1758    0.005    0.020  asyncore.py:417(recv)
counter.py:5(__init__)                                         <-     462    0.000    0.000  http_server.py:46(__init__)
enum.py:267(__call__)                                          <-       4    0.000    0.000  enum.py:803(__and__)
                                                                        1    0.000    0.000  signal.py:25(_int_to_enum)
                                                                      308    0.001    0.002  socket.py:97(_intenum_converter)
enum.py:517(__new__)                                           <-     313    0.001    0.002  enum.py:267(__call__)
http_server.py:279(close)                                      <-     308    0.001    0.020  asynchat.py:190(handle_close)
asynchat.py:190(handle_close)                                  <-     154    0.000    0.020  asyncore.py:417(recv)
                                                                      154    0.000    0.000  http_server.py:179(recv)
socket.py:97(_intenum_converter)                               <-     154    0.000    0.001  socket.py:429(family)
                                                                      154    0.001    0.002  socket.py:435(type)
asynpsycopg2.py:30(check_state)                                <-     168    0.000    0.000  asynpsycopg2.py:74(handle_connect_event)
                                                                      115    0.000    0.000  asynpsycopg2.py:95(handle_read)
task.py:294(__del__)                                           <-      41    0.000    0.000  attrdict.py:4(__init__)
                                                                       12    0.000    0.000  fifo.py:17(__len__)
                                                                       10    0.000    0.000  http_server.py:118(push_with_producer)
                                                                       22    0.000    0.000  os.py:687(__iter__)
                                                                        4    0.000    0.000  selective_logger.py:58(__call__)
                                                                       22    0.000    0.000  socket_map.py:55(items)
                                                                       12    0.000    0.000  task.py:54(handle_result)
                                                                       12    0.000    0.000  wsgi_handler.py:61(build_environ)
                                                                      110    0.000    0.000  {built-in method builtins.hasattr}
                                                                        4    0.000    0.000  {method 'fetchall' of 'psycopg2.extensions.cursor' objects}
                                                                        6    0.000    0.000  {method 'strftime' of 'datetime.date' objects}
asynpsycopg2.py:74(handle_connect_event)                       <-     178    0.000    0.016  asynpsycopg2.py:83(handle_write_event)
socket_map.py:17(__delitem__)                                  <-     155    0.000    0.000  asyncore.py:319(del_channel)
                                                                       10    0.000    0.000  dbconnect.py:169(del_channel)
socket_map.py:21(__contains__)                                 <-     155    0.000    0.000  asyncore.py:319(del_channel)
                                                                       10    0.000    0.000  dbconnect.py:169(del_channel)
asyncore.py:435(close)                                         <-      10    0.000    0.002  asynpsycopg2.py:153(close)
                                                                      154    0.001    0.018  http_server.py:279(close)
                                                                        1    0.000    0.000  http_server.py:539(close)
asyncore.py:319(del_channel)                                   <-     155    0.001    0.001  asyncore.py:435(close)
socket.py:409(_real_close)                                     <-     155    0.016    0.016  socket.py:413(close)
socket.py:413(close)                                           <-     155    0.000    0.016  asyncore.py:435(close)
enum.py:546(_missing_)                                         <-     155    0.001    0.001  enum.py:517(__new__)
{built-in method _thread.allocate_lock}                        <-     154    0.000    0.000  http_server.py:46(__init__)
{method 'clear' of 'collections.deque' objects}                <-     154    0.000    0.000  fifo.py:78(clear)
{built-in method _socket.getdefaulttimeout}                    <-     154    0.000    0.000  socket.py:198(accept)
{method '_accept' of '_socket.socket' objects}                 <-     154    0.093    0.093  socket.py:198(accept)
{method 'fileno' of '_socket.socket' objects}                  <-     154    0.000    0.000  asyncore.py:334(set_socket)
{method 'getpeername' of '_socket.socket' objects}             <-     154    0.001    0.001  asyncore.py:266(__init__)
{method 'setblocking' of '_socket.socket' objects}             <-     154    0.000    0.000  asyncore.py:266(__init__)
{method 'gettimeout' of '_socket.socket' objects}              <-     154    0.000    0.000  socket.py:198(accept)
{built-in method builtins.globals}                             <-     154    0.000    0.000  socket.py:198(accept)
http_server.py:591(handle_accept)                              <-     154    0.001    0.110  asyncore.py:458(handle_read_event)
http_server.py:46(__init__)                                    <-     154    0.003    0.008  http_server.py:591(handle_accept)
socket_map.py:8(__setitem__)                                   <-     154    0.001    0.001  asyncore.py:313(add_channel)
fifo.py:10(__init__)                                           <-     154    0.000    0.000  http_server.py:46(__init__)
fifo.py:78(clear)                                              <-     154    0.000    0.000  asynchat.py:265(discard_buffers)
asynchat.py:265(discard_buffers)                               <-     154    0.000    0.001  http_server.py:279(close)
asyncore.py:266(__init__)                                      <-     154    0.001    0.003  http_server.py:46(__init__)
asyncore.py:313(add_channel)                                   <-     154    0.000    0.001  asyncore.py:334(set_socket)
asyncore.py:334(set_socket)                                    <-     154    0.000    0.001  asyncore.py:266(__init__)
asyncore.py:390(accept)                                        <-     154    0.000    0.101  http_server.py:591(handle_accept)
socket.py:198(accept)                                          <-     154    0.002    0.101  asyncore.py:390(accept)
socket.py:429(family)                                          <-     154    0.000    0.001  socket.py:198(accept)
socket.py:435(type)                                            <-     154    0.001    0.003  socket.py:198(accept)
socket.py:139(__init__)                                        <-     154    0.001    0.001  socket.py:198(accept)
{built-in method builtins.setattr}                             <-      21    0.000    0.000  async_service.py:46(make_corequest_methods)
async_service.py:13(__init__)                                  <-      21    0.000    0.000  async_service.py:46(make_corequest_methods)
termcolor.py:45(greeen)                                        <-      13    0.000    0.000  logger.py:121(log)
lifetime.py:105(<lambda>)                                      <-      12    0.000    0.000  {method 'sort' of 'list' objects}
{method 'items' of 'dict' objects}                             <-       8    0.000    0.000  __init__.py:208(maintern)
                                                                        1    0.000    0.000  sre_compile.py:557(compile)
                                                                        1    0.000    0.000  wsgi_apps.py:364(cleanup)
logger.py:54(__call__)                                         <-      10    0.000    0.002  dbconnect.py:71(close)
{method 'close' of 'psycopg2.extensions.connection' objects}   <-      10    0.002    0.002  asyncore.py:435(close)
asynpsycopg2.py:92(handle_connect)                             <-      10    0.000    0.000  asynpsycopg2.py:74(handle_connect_event)
asynpsycopg2.py:153(close)                                     <-      10    0.000    0.004  dbconnect.py:78(clean_shutdown_control)
asynpsycopg2.py:68(del_channel)                                <-      10    0.000    0.000  asyncore.py:435(close)
dbconnect.py:71(close)                                         <-      10    0.000    0.002  asynpsycopg2.py:153(close)
dbconnect.py:78(clean_shutdown_control)                        <-      10    0.000    0.004  lifetime.py:158(graceful_shutdown_loop)
dbconnect.py:169(del_channel)                                  <-      10    0.000    0.000  asynpsycopg2.py:68(del_channel)
baseconnect.py:115(get_active)                                 <-      10    0.000    0.000  baseconnect.py:121(isactive)
baseconnect.py:121(isactive)                                   <-      10    0.000    0.000  dbconnect.py:78(clean_shutdown_control)
lifetime.py:91(__call__)                                       <-       6    0.000    0.000  lifetime.py:144(lifetime_loop)
sre_parse.py:163(__getitem__)                                  <-       2    0.000    0.000  sre_compile.py:64(_compile)
                                                                        1    0.000    0.000  sre_compile.py:388(_simple)
                                                                        3    0.000    0.000  sre_parse.py:470(_parse)
{built-in method builtins.min}                                 <-       1    0.000    0.000  sre_compile.py:482(_compile_info)
                                                                        4    0.000    0.000  sre_parse.py:173(getwidth)
{method 'isalnum' of 'str' objects}                            <-       5    0.000    0.000  __init__.py:43(normalize_encoding)
{method 'sort' of 'list' objects}                              <-       4    0.000    0.000  lifetime.py:91(__call__)
__init__.py:208(maintern)                                      <-       4    0.000    0.000  lifetime.py:91(__call__)
sre_parse.py:159(__len__)                                      <-       2    0.000    0.000  sre_parse.py:470(_parse)
                                                                        1    0.000    0.000  {built-in method builtins.len}
sre_parse.py:173(getwidth)                                     <-       1    0.000    0.000  sre_compile.py:388(_simple)
                                                                        1    0.000    0.000  sre_compile.py:482(_compile_info)
                                                                        1    0.000    0.000  sre_parse.py:173(getwidth)
sre_parse.py:232(__next)                                       <-       1    0.000    0.000  sre_parse.py:223(__init__)
                                                                        2    0.000    0.000  sre_parse.py:253(get)
{built-in method __new__ of type object at 0xa603e0}           <-       1    0.000    0.000  codecs.py:93(__new__)
                                                                        1    0.000    0.000  tz.py:61(__new__)
http_server.py:534(clean_shutdown_control)                     <-       2    0.000    0.001  lifetime.py:158(graceful_shutdown_loop)
triple_logger.py:75(__call__)                                  <-       2    0.000    0.000  wsgi_apps.py:364(cleanup)
triple_logger.py:69(get)                                       <-       2    0.000    0.000  triple_logger.py:75(__call__)
signal.py:35(_enum_to_int)                                     <-       2    0.000    0.000  signal.py:45(signal)
sre_compile.py:64(_compile)                                    <-       1    0.000    0.000  sre_compile.py:64(_compile)
                                                                        1    0.000    0.000  sre_compile.py:542(_code)
enum.py:803(__and__)                                           <-       2    0.000    0.000  re.py:286(_compile)
sre_compile.py:539(isstring)                                   <-       1    0.000    0.000  re.py:286(_compile)
                                                                        1    0.000    0.000  sre_compile.py:557(compile)
sre_parse.py:81(groups)                                        <-       2    0.000    0.000  sre_compile.py:557(compile)
sre_parse.py:111(__init__)                                     <-       1    0.000    0.000  sre_parse.py:163(__getitem__)
                                                                        1    0.000    0.000  sre_parse.py:470(_parse)
sre_parse.py:248(match)                                        <-       1    0.000    0.000  sre_parse.py:407(_parse_sub)
                                                                        1    0.000    0.000  sre_parse.py:470(_parse)
sre_parse.py:253(get)                                          <-       2    0.000    0.000  sre_parse.py:470(_parse)
sre_parse.py:285(tell)                                         <-       1    0.000    0.000  sre_parse.py:407(_parse_sub)
                                                                        1    0.000    0.000  sre_parse.py:470(_parse)
{built-in method _sre.compile}                                 <-       1    0.000    0.000  sre_compile.py:557(compile)
{built-in method posix.write}                                  <-       1    0.000    0.000  select_trigger.py:69(pull_trigger)
{built-in method _signal.signal}                               <-       1    0.000    0.000  signal.py:45(signal)
{built-in method builtins.__import__}                          <-       1    0.000    0.000  __init__.py:71(search_function)
{built-in method builtins.exec}                                <- 
{built-in method builtins.ord}                                 <-       1    0.000    0.000  sre_parse.py:470(_parse)
{method 'values' of 'dict' objects}                            <-       1    0.000    0.000  vhost_handler.py:62(close)
{method 'replace' of 'str' objects}                            <-       1    0.000    0.000  __init__.py:71(search_function)
{method 'disable' of '_lsprof.Profiler' objects}               <- 
<string>:1(<module>)                                           <-       1    0.000   19.215  {built-in method builtins.exec}
http_server.py:539(close)                                      <-       1    0.000    0.001  http_server.py:534(clean_shutdown_control)
http_server.py:557(log)                                        <-       1    0.000    0.000  http_server.py:569(log_info)
http_server.py:569(log_info)                                   <-       1    0.000    0.000  http_server.py:534(clean_shutdown_control)
http_server.py:641(hTERMWORKER)                                <-       1    0.000    0.000  {method 'poll' of 'select.epoll' objects}
http_server.py:650(DO_SHUTDOWN)                                <-       1    0.000    0.000  http_server.py:660(hTERMMASTER)
http_server.py:660(hTERMMASTER)                                <-       1    0.000    0.000  {method 'poll' of 'select.epoll' objects}
vhost_handler.py:35(close)                                     <-       1    0.000    0.000  vhost_handler.py:62(close)
vhost_handler.py:62(close)                                     <-       1    0.000    0.000  http_server.py:539(close)
mixin.py:437(life_cycle)                                       <-       1    0.000    0.000  wsgi_apps.py:169(cleanup)
mixin.py:471(cleanup)                                          <-       1    0.000    0.000  wsgi_apps.py:169(cleanup)
lifetime.py:106(shutdown)                                      <-       1    0.000    0.000  http_server.py:641(hTERMWORKER)
lifetime.py:123(loop)                                          <-       1    0.000   19.215  <string>:1(<module>)
lifetime.py:144(lifetime_loop)                                 <-       1    0.026   19.210  lifetime.py:123(loop)
lifetime.py:158(graceful_shutdown_loop)                        <-       1    0.000    0.005  lifetime.py:123(loop)
trigger.py:38(wakeselect)                                      <-       1    0.000    0.000  lifetime.py:106(shutdown)
select_trigger.py:69(pull_trigger)                             <-       1    0.000    0.000  trigger.py:38(wakeselect)
wsgi_apps.py:169(cleanup)                                      <-       1    0.000    0.000  wsgi_apps.py:364(cleanup)
wsgi_apps.py:364(cleanup)                                      <-       1    0.000    0.000  vhost_handler.py:35(close)
bus.py:105(emit)                                               <-       1    0.000    0.000  mixin.py:437(life_cycle)
bus.py:202(_event_funcs)                                       <-       1    0.000    0.000  bus.py:105(emit)
async_service.py:42(__init__)                                  <-       1    0.000    0.000  wsgi_apps.py:169(cleanup)
async_service.py:46(make_corequest_methods)                    <-       1    0.000    0.000  async_service.py:42(__init__)
sre_parse.py:470(_parse)                                       <-       1    0.000    0.000  sre_parse.py:407(_parse_sub)
sre_parse.py:828(fix_flags)                                    <-       1    0.000    0.000  sre_parse.py:844(parse)
sre_parse.py:844(parse)                                        <-       1    0.000    0.000  sre_compile.py:557(compile)
signal.py:25(_int_to_enum)                                     <-       1    0.000    0.000  signal.py:45(signal)
signal.py:45(signal)                                           <-       1    0.000    0.000  http_server.py:650(DO_SHUTDOWN)
sre_compile.py:388(_simple)                                    <-       1    0.000    0.000  sre_compile.py:64(_compile)
sre_compile.py:414(_get_literal_prefix)                        <-       1    0.000    0.000  sre_compile.py:482(_compile_info)
sre_compile.py:441(_get_charset_prefix)                        <-       1    0.000    0.000  sre_compile.py:482(_compile_info)
sre_compile.py:482(_compile_info)                              <-       1    0.000    0.000  sre_compile.py:542(_code)
sre_compile.py:542(_code)                                      <-       1    0.000    0.000  sre_compile.py:557(compile)
sre_compile.py:557(compile)                                    <-       1    0.000    0.000  re.py:286(_compile)
sre_parse.py:76(__init__)                                      <-       1    0.000    0.000  sre_parse.py:844(parse)
sre_parse.py:167(__setitem__)                                  <-       1    0.000    0.000  sre_parse.py:470(_parse)
sre_parse.py:171(append)                                       <-       1    0.000    0.000  sre_parse.py:470(_parse)
sre_parse.py:223(__init__)                                     <-       1    0.000    0.000  sre_parse.py:844(parse)
sre_parse.py:407(_parse_sub)                                   <-       1    0.000    0.000  sre_parse.py:844(parse)
threading.py:74(RLock)                                         <-       1    0.000    0.000  threading.py:215(__init__)
threading.py:215(__init__)                                     <-       1    0.000    0.000  async_service.py:42(__init__)
utf_8.py:33(getregentry)                                       <-       1    0.000    0.000  __init__.py:71(search_function)
__init__.py:43(normalize_encoding)                             <-       1    0.000    0.000  __init__.py:71(search_function)
__init__.py:71(search_function)                                <-       1    0.000    0.000  {method 'poll' of 'psycopg2.extensions.connection' objects}
codecs.py:93(__new__)                                          <-       1    0.000    0.000  utf_8.py:33(getregentry)


